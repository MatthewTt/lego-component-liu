{"remainingRequest":"/Users/jiajieliu/Codes/lego-component/node_modules/babel-loader/lib/index.js!/Users/jiajieliu/Codes/lego-component/node_modules/ts-loader/index.js??ref--15-2!/Users/jiajieliu/Codes/lego-component/node_modules/eslint-loader/index.js??ref--14-0!/Users/jiajieliu/Codes/lego-component/src/store/editor.ts","dependencies":[{"path":"/Users/jiajieliu/Codes/lego-component/src/store/editor.ts","mtime":1645346263566},{"path":"/Users/jiajieliu/Codes/lego-component/babel.config.js","mtime":1644651795060},{"path":"/Users/jiajieliu/Codes/lego-component/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jiajieliu/Codes/lego-component/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jiajieliu/Codes/lego-component/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/jiajieliu/Codes/lego-component/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAidXVpZCI7CmltcG9ydCBsVGV4dCBmcm9tICJAL2NvbXBvbmVudHMvTFRleHQudnVlIjsKaW1wb3J0IHsgc2hhbGxvd1JlZiB9IGZyb20gInZ1ZSI7CnZhciBsVGV4dFJlZiA9IHNoYWxsb3dSZWYobFRleHQpOwpleHBvcnQgdmFyIHRlc3RFZGl0b3JMaXN0ID0gW3sKICBpZDogdXVpZHY0KCksCiAgbmFtZTogbFRleHRSZWYsCiAgcHJvcHM6IHsKICAgIHRleHQ6ICdkZHNkcycsCiAgICBmb250U2l6ZTogJzIwcHgnLAogICAgY29sb3I6ICdyZWQnLAogICAgZm9udFdpZHRoOiAnYm9sZCcsCiAgICBhY3Rpb25UeXBlOiAndXJsJywKICAgIHVybDogJ2h0dHA6Ly9iYWlkdS5jb20nLAogICAgcG9zaXRpb246ICdyZWxhdGl2ZScKICB9Cn0sIHsKICBpZDogdXVpZHY0KCksCiAgbmFtZTogbFRleHRSZWYsCiAgcHJvcHM6IHsKICAgIHRleHQ6ICdoZWxsbzInLAogICAgcG9zaXRpb246ICdyZWxhdGl2ZScKICB9Cn1dOwp2YXIgZWRpdG9yID0gewogIHN0YXRlOiB7CiAgICBjb21wb25lbnRzOiB0ZXN0RWRpdG9yTGlzdCwKICAgIGN1cnJlbnRFbGVtZW50OiAnJywKICAgIHRlc3RKc29uOiB7CiAgICAgIG5hbWU6IHsKICAgICAgICBsYXN0OiB0cnVlCiAgICAgIH0KICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgYWRkQ29tcG9uZW50OiBmdW5jdGlvbiBhZGRDb21wb25lbnQoc3RhdGUsIHByb3BzKSB7CiAgICAgIHZhciBuZXdDb21wb25lbnQgPSB7CiAgICAgICAgaWQ6IHV1aWR2NCgpLAogICAgICAgIG5hbWU6IGxUZXh0UmVmLAogICAgICAgIHByb3BzOiBwcm9wcwogICAgICB9OwogICAgICBzdGF0ZS5jb21wb25lbnRzLnB1c2gobmV3Q29tcG9uZW50KTsKICAgIH0sCiAgICBzZXRBY3RpdmU6IGZ1bmN0aW9uIHNldEFjdGl2ZShzdGF0ZSwgY3VycmVudElkKSB7CiAgICAgIHN0YXRlLmN1cnJlbnRFbGVtZW50ID0gY3VycmVudElkOwogICAgfSwKICAgIHVwZGF0ZUNvbXBvbmVudDogZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50KHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBrZXkgPSBfcmVmLmtleSwKICAgICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTsKICAgICAgdmFyIHVwZGF0ZSA9IHN0YXRlLmNvbXBvbmVudHMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkID09PSBzdGF0ZS5jdXJyZW50RWxlbWVudDsKICAgICAgfSk7CgogICAgICBpZiAodXBkYXRlKSB7CiAgICAgICAgdXBkYXRlLnByb3BzW2tleV0gPSB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZUFjdGl2ZTogZnVuY3Rpb24gcmVtb3ZlQWN0aXZlKHN0YXRlKSB7CiAgICAgIHZhciBjdXJyZW50ID0gc3RhdGUuY29tcG9uZW50cy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gc3RhdGUuY3VycmVudEVsZW1lbnQ7CiAgICAgIH0pOwoKICAgICAgaWYgKGN1cnJlbnQpIHsKICAgICAgICBzdGF0ZS5jb21wb25lbnRzLnNwbGljZShjdXJyZW50LCAxKTsKICAgICAgfQogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0Q3VycmVudEVsZW1lbnQ6IGZ1bmN0aW9uIGdldEN1cnJlbnRFbGVtZW50KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jb21wb25lbnRzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gc3RhdGUuY3VycmVudEVsZW1lbnQ7CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgZWRpdG9yOw=="},{"version":3,"mappings":";;;;AAAA,SAASA,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AAGA,OAAOC,KAAP,MAAkB,wBAAlB;AAEA,SAASC,UAAT,QAA2B,KAA3B;AAgBA,IAAMC,QAAQ,GAAGD,UAAU,CAACD,KAAD,CAA3B;AACA,OAAO,IAAMG,cAAc,GAAoB,CAAC;AAC5CC,IAAE,EAAEL,MAAM,EADkC;AAE5CM,MAAI,EAAEH,QAFsC;AAG5CI,OAAK,EAAE;AACHC,QAAI,EAAE,OADH;AAEHC,YAAQ,EAAE,MAFP;AAGHC,SAAK,EAAE,KAHJ;AAIHC,aAAS,EAAE,MAJR;AAKHC,cAAU,EAAE,KALT;AAMHC,OAAG,EAAE,kBANF;AAOHC,YAAQ,EAAE;AAPP;AAHqC,CAAD,EAY5C;AACCT,IAAE,EAAEL,MAAM,EADX;AAECM,MAAI,EAAEH,QAFP;AAGCI,OAAK,EAAE;AACHC,QAAI,EAAE,QADH;AAEHM,YAAQ,EAAE;AAFP;AAHR,CAZ4C,CAAxC;AAqBP,IAAMC,MAAM,GAAyC;AACjDC,OAAK,EAAE;AACHC,cAAU,EAAEb,cADT;AAEHc,kBAAc,EAAE,EAFb;AAGHC,YAAQ,EAAE;AACNb,UAAI,EAAE;AACFc,YAAI,EAAE;AADJ;AADA;AAHP,GAD0C;AAUjDC,WAAS,EAAE;AACPC,gBADO,wBACMN,KADN,EACaT,KADb,EAC6C;AAChD,UAAMgB,YAAY,GAAG;AACjBlB,UAAE,EAAEL,MAAM,EADO;AAEjBM,YAAI,EAAEH,QAFW;AAGjBI,aAAK,EAALA;AAHiB,OAArB;AAKAS,WAAK,CAACC,UAAN,CAAiBO,IAAjB,CAAsBD,YAAtB;AACH,KARM;AASPE,aATO,qBASGT,KATH,EASUU,SATV,EAS2B;AAC9BV,WAAK,CAACE,cAAN,GAAuBQ,SAAvB;AACH,KAXM;AAYPC,mBAZO,2BAYSX,KAZT,QAY8B;AAAA,UAAZY,GAAY,QAAZA,GAAY;AAAA,UAAPC,KAAO,QAAPA,KAAO;AACjC,UAAMC,MAAM,GAAGd,KAAK,CAACC,UAAN,CAAiBc,IAAjB,CAAsB,cAAI;AAAA,eAAIC,IAAI,CAAC3B,EAAL,KAAYW,KAAK,CAACE,cAAtB;AAAA,OAA1B,CAAf;;AACA,UAAIY,MAAJ,EAAY;AACRA,cAAM,CAACvB,KAAP,CAAaqB,GAAb,IAAoBC,KAApB;AACH;AACJ,KAjBM;AAkBPI,gBAlBO,wBAkBMjB,KAlBN,EAkBW;AACd,UAAMkB,OAAO,GAAGlB,KAAK,CAACC,UAAN,CAAiBkB,SAAjB,CAA2B,cAAI;AAAA,eAAIH,IAAI,CAAC3B,EAAL,KAAYW,KAAK,CAACE,cAAtB;AAAA,OAA/B,CAAhB;;AACA,UAAIgB,OAAJ,EAAa;AACTlB,aAAK,CAACC,UAAN,CAAiBmB,MAAjB,CAAwBF,OAAxB,EAAiC,CAAjC;AACH;AACJ;AAvBM,GAVsC;AAmCjDG,SAAO,EAAE;AACLC,qBADK,6BACatB,KADb,EACkB;AACnB,aAAOA,KAAK,CAACC,UAAN,CAAiBc,IAAjB,CAAsB,cAAI;AAAA,eAAIC,IAAI,CAAC3B,EAAL,KAAYW,KAAK,CAACE,cAAtB;AAAA,OAA1B,CAAP;AACH;AAHI;AAnCwC,CAArD;AA0CA,eAAeH,MAAf","names":["v4","uuidv4","lText","shallowRef","lTextRef","testEditorList","id","name","props","text","fontSize","color","fontWidth","actionType","url","position","editor","state","components","currentElement","testJson","last","mutations","addComponent","newComponent","push","setActive","currentId","updateComponent","key","value","update","find","item","removeActive","current","findIndex","splice","getters","getCurrentElement"],"sourceRoot":"","sources":["/Users/jiajieliu/Codes/lego-component/node_modules/eslint-loader/index.js??ref--14-0!/Users/jiajieliu/Codes/lego-component/src/store/editor.ts"],"sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\nimport { Module } from \"vuex\";\nimport { GlobalDataProps } from \"@/store/index\";\nimport lText from \"@/components/LText.vue\";\nimport { TextDefaultProps } from \"@/defaultProps\";\nimport { shallowRef } from \"vue\";\n\n\nexport interface ComponentData {\n    props: { [key: string]: any }; // 组件各种属性\n    id: string; // 组件id，uuid生成\n    name: any; // 组件对象\n}\n\nexport interface EditorProps {\n    components: ComponentData[];\n    currentElement: string; // 和id对应\n    testJson: any;\n}\n\n\nconst lTextRef = shallowRef(lText);\nexport const testEditorList: ComponentData[] = [{\n    id: uuidv4(),\n    name: lTextRef,\n    props: {\n        text: 'ddsds',\n        fontSize: '20px',\n        color: 'red',\n        fontWidth: 'bold',\n        actionType: 'url',\n        url: 'http://baidu.com',\n        position: 'relative'\n    }\n}, {\n    id: uuidv4(),\n    name: lTextRef,\n    props: {\n        text: 'hello2',\n        position: 'relative'\n    }\n}]\n\nconst editor: Module<EditorProps, GlobalDataProps> = {\n    state: {\n        components: testEditorList,\n        currentElement: '',\n        testJson: {\n            name: {\n                last: true\n            }\n        }\n    },\n    mutations: {\n        addComponent(state, props: Partial<TextDefaultProps>) {\n            const newComponent = {\n                id: uuidv4(),\n                name: lTextRef,\n                props\n            }\n            state.components.push(newComponent)\n        },\n        setActive(state, currentId: string) {\n            state.currentElement = currentId\n        },\n        updateComponent(state, { key, value }) {\n            const update = state.components.find(item => item.id === state.currentElement)\n            if (update) {\n                update.props[key] = value\n            }\n        },\n        removeActive(state) {\n            const current = state.components.findIndex(item => item.id === state.currentElement)\n            if (current) {\n                state.components.splice(current, 1)\n            }\n        }\n    },\n    getters: {\n        getCurrentElement(state) {\n            return state.components.find(item => item.id === state.currentElement)\n        }\n    }\n\n}\nexport default editor\n"]}]}